//max rule id:30

#include "char_array_def.h"
#include "verification_list.h"
#include "verification_stdlib.h"

id : 1
priority : core(1)
left : CharArray::full(?p, ?n, ?l) at 0
right : data_at(?p + (?i * sizeof(I8)), I8, ?v) at 1
check : infer(0 <= i);
        infer(i < n);
action : right_erase(1);
         left_erase(0);
         left_add(CharArray::missing_i(p, i, 0, n, l));
         right_add(v == l[i]);

id : 2
priority : post(1)
left : CharArray::missing_i(?p, ?i, 0, ?n, ?l) at 0
       data_at(p + i * sizeof(I8), I8, l[i]) at 1
check : infer(0 <= i);
        infer(i < n);
action : left_erase(1);
         left_erase(0);
         left_add(CharArray::full(p, n, l));

id : 3
priority : post(3)
left : CharArray::missing_i(?p, ?i, 0, ?n, ?l) at 0
       data_at(p + i * sizeof(I8), I8, ?v) at 1
check : infer(0 <= i);
        infer(i < n);
action : left_erase(1);
         left_erase(0);
         left_add(CharArray::full(p, n, replace_Znth{Z}(i, v, l)));

id : 4
priority : core(1)
left : CharArray::full(?p, ?n, ?l1) at 0
right : CharArray::full(p, n, ?l2) at 1
action : right_erase(1);
         left_erase(0);
         right_add(l1 == l2);

id : 5
priority : core(1)
left : CharArray::missing_i(?p, ?i, ?v, ?n, ?l) at 0
right : CharArray::missing_i(p, i, v, n, l) at 1
action : left_erase(0);
         right_erase(1); 

id : 6
priority : core(1)
left : CharArray::full(?p, ?n, ?l1) at 0
check: absense(0 <= n);
action : left_add(0 <= n);

id : 7
priority : core(1)
right : CharArray::full(?p, ?n, ?l) at 0
check : infer(n == 0);
action : right_add(l == nil{Z});
         right_erase(0);
      
id : 8
priority : core(1)
right : CharArray::undef_ceil(?p, ?l, ?r) at 0
check : infer(l == 0);
action : right_erase(0);
         right_add(CharArray::undef_full(p, r));

id : 9
priority : core(1)
left : CharArray::undef_ceil(?p, ?l, ?n) at 0
right : undef_data_at(?p + (?i * sizeof(I8)), I8) at 1
check : infer(l <= i);
        infer(i < n);
action : right_erase(1);
         left_erase(0);
         left_add(CharArray::undef_missing_i(p, i, l, n));

id : 10
priority : post(4)
left : CharArray::full(?p, ?n, ?l) at 0
       data_at(p + (?i * sizeof(I8)), I8, ?v) at 1
check : infer(i == n);
action : left_erase(0);
         left_erase(1);
         left_add(CharArray::full(p, n + 1, app{Z}(l, cons{Z}(v, nil{Z}))));

id : 11
priority : post(1)
left : CharArray::undef_missing_i(?p, ?l, ?r, ?n) at 0
check : infer(l == r);
        infer(r < n);
action : left_erase(0);
         left_add(CharArray::undef_ceil(p, (l + 1), n));
